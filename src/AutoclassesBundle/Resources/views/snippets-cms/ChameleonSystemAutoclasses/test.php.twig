{#
  @var dataModelPartsList \ChameleonSystem\AutoclassesBundle\TableConfExport\DataModelParts[]
@var table array
@var fields \TCMSField[]
#}
{% autoescape false %}
<?php
namespace {{ namespace }};

class {{ className }} {
  public function __construct(
    public readonly string $id,
    public readonly int $cmsident,
    {% set attributesNoDefaultValue = dataModelPartsList|filter(item => false == item.hasDefaultValue) %}
    {% set attributesWithDefaultValue = dataModelPartsList|filter(item => true == item.hasDefaultValue) %}
  {%- for dataModelParts in attributesNoDefaultValue %}
  
    {{ dataModelParts.property }}{% if not loop.last or (attributesWithDefaultValue|length > 0) %}, {% endif %}
  {%- endfor %}
  {%- for dataModelParts in attributesWithDefaultValue %}

    {{ dataModelParts.property }}{% if not loop.last %}, {% endif %}
  {%- endfor %}
  ) {}

  {%- for dataModelParts in dataModelPartsList %}

    {{ dataModelParts.methods }}

  {% endfor %}

}
{% endautoescape %}