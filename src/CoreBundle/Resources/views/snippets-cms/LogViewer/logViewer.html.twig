<div class="container mt-4">
    <h1 class="mb-4">{{ 'chameleon_system_core.log_viewer.headline'|trans }}</h1>

    <table class="table table-striped table-hover">
        <thead class="thead-dark">
        <tr>
            <th>{{ 'chameleon_system_core.log_viewer.filename_label'|trans }}</th>
            <th>{{ 'chameleon_system_core.log_viewer.size_label'|trans }}</th>
            <th>{{ 'chameleon_system_core.log_viewer.last_modified_label'|trans }}</th>
            <th>{{ 'chameleon_system_core.log_viewer.number_of_lines_label'|trans }}</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        {% for log in logFiles %}
            <tr>
                <td>{{ log.filename }}</td>
                <td>{{ log.size }}</td>
                <td>{{ log.modified }}</td>
                <td>
                    <input
                            type="number"
                            id="lines-{{ log.filename }}"
                            class="form-control form-control-sm"
                            min="1"
                            value="100"
                    >
                </td>
                <td>
                    <button
                            class="btn btn-primary btn-sm"
                            onclick="loadLogContent('{{ log.filename }}', 'lines-{{ log.filename }}')"
                    >
                        {{ 'chameleon_system_core.log_viewer.view_button'|trans }}
                    </button>
                </td>
                <td>
                    <button
                            id="live-button-{{ log.filename }}"
                            class="btn btn-success btn-sm"
                            onclick="toggleLiveMode('{{ log.filename }}', 'lines-{{ log.filename }}', this)"
                    >
                        {{ 'chameleon_system_core.log_viewer.live_button'|trans }}
                    </button>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <div id="logContent" class="card mt-4" style="display: none;">
        <div class="card-header bg-dark text-white">
            <h2 id="logTitle" class="mb-0"></h2>
        </div>
        <div class="card-body">
            <pre id="logLines" class="pre-scrollable" style="max-height: 400px;"></pre>
        </div>
    </div>

    <div id="liveControls" class="mt-3" style="display: none;">
        <button class="btn btn-danger" onclick="stopLiveMode()">
            {{ 'chameleon_system_core.log_viewer.stop_button'|trans }}
        </button>
    </div>
</div>
